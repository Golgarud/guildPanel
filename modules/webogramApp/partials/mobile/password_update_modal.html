<div class="username_edit_modal_wrap">

  <div class="tg_page_head tg_modal_head">
    <div class="navbar navbar-static-top navbar-inverse">
      <div class="container">

        <div class="navbar-header">

          <ul class="nav navbar-nav navbar-quick-nav">
            <li class="navbar-quick-right">
              <a ng-class="{disabled: passwordSettings.updating}" ng-click="updatePassword()" ng-disabled="passwordSettings.updating" ng-switch="action">
                <span ng-switch-when="disable" ng-bind="passwordSettings.updating ? 'password_delete_active' : 'password_delete_submit' | i18n"></span>
                <span ng-switch-default ng-bind="passwordSettings.updating ? 'password_create_active' : 'password_create_submit' | i18n"></span>
              </a>
            </li>
            <li>
              <a ng-click="$dismiss()" class="navbar-quick-media-back">
                <i class="icon icon-back"></i>
                <div class="navbar-quick-back-title">
                  <h4 ng-switch="action">
                    <my-i18n ng-switch-when="disable" msgid="password_delete_title"></my-i18n>
                    <my-i18n ng-switch-default msgid="password_change_title"></my-i18n>
                  </h4>
                </div>
              </a>
            </li>
          </ul>

        </div>

      </div>
    </div>
  </div>

  <div class="modal-body">

    <form class="modal_simple_form" ng-submit="updatePassword()" my-vertical-position="0.3">

      <div ng-if="password._ != 'account.noPassword'" class="md-input-group" ng-class="{'md-input-error': passwordSettings.error_field == 'cur_password'}" my-labeled-input>
        <label class="md-input-label" my-i18n="password_current_placeholder"></label>
        <input class="md-input" my-focused type="password" ng-model="passwordSettings.cur_password" name="cur_password" my-focus-on="cur_password_focus" />
      </div>

      <div ng-if="action != 'disable'" class="md-input-group md-input-grouped" ng-class="{'md-input-error': passwordSettings.error_field == 'new_password'}" my-labeled-input>
        <label class="md-input-label" my-i18n="password_new_placeholder"></label>
        <input class="md-input" type="password" ng-model="passwordSettings.new_password" name="new_password" my-focus-on="new_password_focus" />
      </div>

      <div ng-if="action != 'disable'" class="md-input-group" ng-class="{'md-input-error': passwordSettings.confirm_password && passwordSettings.new_password && passwordSettings.confirm_password != passwordSettings.new_password}" my-labeled-input>
        <label class="md-input-label" my-i18n="password_confirm_placeholder"></label>
        <input class="md-input" type="password" ng-model="passwordSettings.confirm_password" name="confirm_password" my-focus-on="confirm_password_focus" />
      </div>

      <div ng-if="action != 'disable'" class="md-input-group" my-labeled-input>
        <label class="md-input-label" my-i18n="password_hint_placeholder"></label>
        <input class="md-input" type="text" ng-model="passwordSettings.hint" name="hint" />
      </div>

      <div ng-if="action != 'disable'" class="md_simple_form_description" my-i18n="password_create_description"></div>

      <div ng-if="action != 'disable'" class="md-input-group" ng-class="{'md-input-error': passwordSettings.error_field == 'email'}" my-labeled-input>
        <label class="md-input-label" my-i18n="password_email_placeholder"></label>
        <input class="md-input" type="text" ng-model="passwordSettings.email" name="email" />
      </div>

    </form>

  </div>

</div>